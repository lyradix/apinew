{% extends 'base.html.twig' %}

{% block title %}Hello IndexController!{% endblock %}

{% block body %}
<a href="{{ path('app_adminConcerts') }}" class="btn btn-success"> 
    <img class="logoXtra" src="{{ asset('images/preview.png') }}" alt="logo">
</a>
<h1>Ajouter ou modifier un lieu</h1>

<div>
    <label>
        <input type="radio" name="formMode" value="add" checked>
        Ajouter
    </label>
    <label>
        <input type="radio" name="formMode" value="modify">
        Modifier
    </label>
</div>

<div id="addForm" class="form">
    <form id="poiForm" action="{{ path('post_poi') }}" method="post">
        {{ form_widget(formAddPoi) }}
        <button type="submit">Envoyer</button>
    </form>
</div>

<div id="modifyForm" class="form" style="display:none;">
    <form id="modifPoiForm" action="{{ path('update_poi', {'id': poiToModify.id}) }}" method="post">
        {{ form_widget(formModifPoi) }}
        <button type="submit">Mettre Ã  jour</button>
    </form>
</div>

<script>
document.querySelectorAll('input[name="formMode"]').forEach(function(radio) {
    radio.addEventListener('change', function() {
        if (this.value === 'add') {
            document.getElementById('addForm').style.display = '';
            document.getElementById('modifyForm').style.display = 'none';
        } else if (this.value === 'modify') {
            document.getElementById('addForm').style.display = 'none';
            document.getElementById('modifyForm').style.display = '';
        }
    });
});
</script>
{% endblock %}